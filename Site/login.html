<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pipeline Consultancy | Login</title>
    <link rel="stylesheet" href="./css/login.css" />
</head>

<body>

    <header>
        <nav>
            <div class="nav-container">
                <div class="logo">
                    <a href="home.html">
                        <img src="./css/img/logo.png" alt="Logo">
                    </a>
                </div>
                <ul class="nav-links">
                    <li><a href="sobre.html">Sobre Nós</a></li>
                    <li><a href="petroquimica.html">Petroquímica</a></li>
                    <li><a href="calculadora.html">Orçamento</a></li>
                </ul>
                <a href="login.html" class="btn-entrar">Entrar ></a>
            </div>
        </nav>
    </header>

    <main class="container-background">
        <div class="left-black-panel" id="leftPanel">
            <div class="login-box" id="loginBox">
                <h2>Login</h2>
                <input type="email" placeholder="Email" class="input-field">
                <input type="password" placeholder="Senha" class="input-field">
                <button class="btn-entrar-login" onclick="entrar()">Entrar</button>
                <div class="msg" id="msg"></div>
            </div>
        </div>
        
        <div class="text-voltar-login" id="textVoltarLogin">
            <h2>Já possui login?</h2>
            <button class="btn-login-voltar" id="btnVoltarLogin">Entrar</button>
        </div>

        <div class="right-content" id="rightContent">
            <div class="text-box" id="textBoxDefault">
                <h2>Ainda não possui Login?</h2>
                <button class="btn-cadastrar" id="btnCadastrar">Cadastrar</button>
            </div>
            <div class="cadastro-box" id="cadastroBox" style="display: none;">
                <h2>Cadastre-se</h2>
                <input type="text" placeholder="Nome" class="input-field">
                <input type="tel" placeholder="Telefone" class="input-field">
                <input type="email" placeholder="Email" class="input-field">
                <input type="text" placeholder="Cargo" class="input-field">
                <input type="password" placeholder="Senha" class="input-field">
                <input type="password" placeholder="Confirmar Senha" class="input-field">
                <button class="btn-entrar-login" id="btnVoltarLoginForm">Cadastrar</button> 
            </div>
        </div>
    </main>

    <script>
        const btnCadastrar = document.getElementById("btnCadastrar");
        const btnVoltarLogin = document.getElementById("btnVoltarLogin");
        const container = document.querySelector(".container-background");
        const cadastroBox = document.getElementById("cadastroBox");
        const textBoxDefault = document.getElementById("textBoxDefault");
    
        const btnEntrar = document.querySelector(".btn-entrar-login");
        const msg = document.getElementById("msg");
    
        let tentativasRestantes = 3;
    
        btnCadastrar.addEventListener("click", () => {
            container.classList.add("modo-cadastro");
    
            setTimeout(() => {
                cadastroBox.style.display = "flex";
                textBoxDefault.style.display = "none";
            }, 300);
        });
    
        btnVoltarLogin.addEventListener("click", () => {
            cadastroBox.style.display = "none";
            container.classList.remove("modo-cadastro");
    
            setTimeout(() => {
                textBoxDefault.style.display = "flex";
            }, 300);
        });
    
        function entrar() {
            const email = document.querySelector('.login-box input[type="email"]').value;
            const senha = document.querySelector('.login-box input[type="password"]').value;
    
            if (tentativasRestantes <= 0) {
                msg.innerHTML = "Acesso bloqueado. Tente novamente mais tarde.";
                msg.style.color = "red";
                return;
            }
    
            if (email === "pipeline@gmail.com" && senha === "123456") {
                window.location.href = "./dashboard/dashHome.html"; 
            } else {
                tentativasRestantes--;
    
                if (tentativasRestantes > 0) {
                    msg.innerHTML = `Email ou senha incorretos! Você ainda tem ${tentativasRestantes} tentativa(s).`;
                    msg.style.color = "red";
                    msg.style.marginTop = "20px";
                } else {
                    msg.innerHTML = "Você errou 3 vezes. Acesso bloqueado.";
                    btnEntrar.disabled = true;
                    btnEntrar.style.opacity = "0.5";
                    btnEntrar.style.cursor = "not-allowed";
                }
            }
        }
    </script>
    
    

</body>

</html>
