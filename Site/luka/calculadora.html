<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora</title>
    <link rel="stylesheet" href="/PAGINAS/css/styleCALCULADORA.css">
</head>
<body>
        <header>
            <nav class="navCabeca"> 
                <div class="nav-container">
                    <div class="logo">
                        <a href="home.html">
                            <img src="/PAGINAS/img/logo.png">
                        </a>
                    </div>
                   
                </div>

            </nav>
        </header>


            <section class="hero" >
                <div class="hero-container-left">
                        <p>Evas√£o Anual (litros):</p>
                    <input type="number" id="ipt_vazao" placeholder="Digite a evas√£o anual"><br>

                        <p>Fluxo Anual Total (Vaz√£o em litros):</p>
                    <input type="number" id="ipt_fluxo" placeholder="Digite o fluxo anual total"><br>

                        <p>Pre√ßo do barril de p√©troleo (R$):</p>
                    <input type="number" id="ipt_preco" placeholder="Digite o pre√ßo do barril"><br><br>

                        <button onclick="calcularPerda()">Analise</button>
                </div>

         

                <div id="divCalc" class="hero-container-right">

                </div>

            </a>
            <a class="btnVoltar" href="calculadora.html">
                <button>Voltar</button>
            </a>
            </section>

      
            <script>
                function calcularPerda() {
                    var vazao = Number(ipt_vazao.value);
                    var fluxo = Number(ipt_fluxo.value);
                    var preco = Number(ipt_preco.value);
            
                    var porcentagem = ((vazao / fluxo) * 100).toFixed(2);
                    var perdaBarris = (vazao / 159).toFixed(0); //159 L e a capacidade de um barril
                    var perdaFinanceira = (perdaBarris * preco).toFixed(2);
                    var economia = (perdaFinanceira * 0.15).toFixed(2);
            
                    divCalc.innerHTML = `
                        <div class="txtFinal" style="text-align: center;">
                            <table border="1" style="margin: 0 auto; border-collapse: collapse; text-align: left;">
                                <tr>
                                    <th colspan="2">Resumo da An√°lise</th>
                                </tr>
                                <tr>
                                    <td>Fluxo Anual Total</td>
                                    <td><b>${fluxo.toLocaleString()} L</b></td>
                                </tr>
                                <tr>
                                    <td>Vaz√£o Anual</td>
                                    <td><b><span style="background-color: red; color: white;">${vazao.toLocaleString()} L</span></b></td>
                                </tr>
                                <tr>
                                    <td>Perda Financeira</td>
                                    <td><b><span style="background-color: red; color: white;">R$ ${perdaFinanceira}</span></b></td>
                                </tr>
                                <tr>
                                    <td>Barris Perdidos</td>
                                    <td><b><span style="background-color: red; color: white;">${perdaBarris}</span></b></td>
                                </tr>
                                <tr>
                                    <td>Porcentagem de Vaz√£o</td>
                                    <td><b>${porcentagem}%</b></td>
                                </tr>
                                <tr>
                                    <td>Economia Estimada</td>
                                    <td><b>R$ ${economia}</b></td>
                                </tr>
                            </table>
            
                            <br>
                            <b>Baixe o relat√≥rio detalhado:</b><br>
                            <a href="https://drive.google.com/file/d/1fDI7LY49X_174gGMe612bAONmZQy_cjA/view?usp=sharing">
                                <button>üì• Baixar Relat√≥rio</button>
                         
                        </div>
                    `;
                }
            


        // Armazena a posi√ß√£o anterior da rolagem
        var lastScrollTop = 0;
        const header = document.querySelector('header','total');

        // Fun√ß√£o para ocultar ou mostrar o cabe√ßalho com base no movimento de rolagem
        window.addEventListener('scroll', function () {
            var currentScroll = window.pageYOffset || document.documentElement.scrollTop;

            if (currentScroll > lastScrollTop) {
                // Rolando para baixo, esconde o cabe√ßalho
                header.style.top = "-100px";
            } else {
                // Rolando para cima, mostra o cabe√ßalho
                header.style.top = "0";
            }

            lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
        });
    </script>
</body>
</html>